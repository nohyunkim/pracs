<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>ê³¼ì œ í”¼í•˜ê¸° ê²Œì„</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
        /* 3. ë””ìì¸: ë°°ê²½ì€ ì¹ íŒ ìƒ‰, ê¸€ì”¨ëŠ” ë¶„í•„ ëŠë‚Œìœ¼ë¡œ */
        body {
            margin: 0;
            overflow: hidden; /* ê²Œì„ í™”ë©´ ë°–ìœ¼ë¡œ ìš”ì†Œê°€ ë‚˜ê°€ì§€ ì•Šë„ë¡ í•¨ */
            background-color: #3A615A; /* ì¹ íŒê³¼ ìœ ì‚¬í•œ ì§™ì€ ì´ˆë¡ìƒ‰ */
            color: white; /* ë¶„í•„ ê°™ì€ í°ìƒ‰ ê¸€ì”¨ */
            font-family: 'Nanum Pen Script', cursive, sans-serif; /* ì†ê¸€ì”¨ ëŠë‚Œì˜ í°íŠ¸ */
        }

        #game-board {
            position: relative;
            width: 100vw;
            height: 100vh;
        }

        /* 2-1. í”Œë ˆì´ì–´ëŠ” 'ğŸ˜±(í•™ìƒ)' ì´ëª¨ì§€ */
        #player {
            position: absolute;
            font-size: 2.5rem; /* ì´ëª¨ì§€ í¬ê¸° */
            bottom: 20px;
            transition: left 0.1s linear; /* ë¶€ë“œëŸ¬ìš´ ì´ë™ íš¨ê³¼ */
        }

        /* 2-2. í•˜ëŠ˜ì—ì„œ ë–¨ì–´ì§€ëŠ” 'ğŸ“„(ê³¼ì œ)' ì´ëª¨ì§€ */
        .paper {
            position: absolute;
            font-size: 2rem;
            top: -40px; /* í™”ë©´ ìœ„ì—ì„œ ì‹œì‘ */
        }

        /* 2-4. ì ìˆ˜ëŠ” í™”ë©´ ì™¼ìª½ ìœ„ì— í‘œì‹œ */
        #score-board {
            position: absolute;
            top: 20px;
            left: 20px;
            font-size: 1.8rem;
            font-weight: bold;
        }

        #game-over-message {
            display: none; /* í‰ì†Œì—ëŠ” ìˆ¨ê¹€ */
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: 3rem;
            text-align: center;
            background-color: rgba(0, 0, 0, 0.5);
            padding: 20px;
            border-radius: 10px;
        }
    </style>
</head>
<body>

    <div id="game-board">
        <div id="score-board">ì ìˆ˜: 0</div>
        <div id="player">ğŸ˜±</div>
        <div id="game-over-message">
            ìœ¼ì•…! ê³¼ì œ í­íƒ„!<br>
            <small style="font-size: 1.5rem;">ìƒˆë¡œê³ ì¹¨(F5)ìœ¼ë¡œ ì¬ì‹œì‘</small>
        </div>
    </div>

    <script>
        const gameBoard = document.getElementById('game-board');
        const player = document.getElementById('player');
        const scoreBoard = document.getElementById('score-board');
        const gameOverMessage = document.getElementById('game-over-message');

        let score = 0;
        let playerLeft = window.innerWidth / 2; // í”Œë ˆì´ì–´ ì´ˆê¸° ìœ„ì¹˜ (í™”ë©´ ì¤‘ì•™)
        const playerSpeed = 25; // í”Œë ˆì´ì–´ ì´ë™ ì†ë„
        let isGameOver = false;
        let gameInterval;
        let paperInterval;

        // í”Œë ˆì´ì–´ ì´ˆê¸° ìœ„ì¹˜ ì„¤ì •
        player.style.left = `${playerLeft}px`;

        // 2-1. ì¢Œìš° ë°©í–¥í‚¤ë¡œ í”Œë ˆì´ì–´ ì›€ì§ì´ê¸°
        document.addEventListener('keydown', (e) => {
            if (isGameOver) return;
            if (e.key === 'ArrowLeft') {
                playerLeft -= playerSpeed;
            } else if (e.key === 'ArrowRight') {
                playerLeft += playerSpeed;
            }

            // í”Œë ˆì´ì–´ê°€ í™”ë©´ ë°–ìœ¼ë¡œ ë‚˜ê°€ì§€ ì•Šë„ë¡ ì œí•œ
            if (playerLeft < 0) playerLeft = 0;
            if (playerLeft > window.innerWidth - player.clientWidth) {
                playerLeft = window.innerWidth - player.clientWidth;
            }

            player.style.left = `${playerLeft}px`;
        });

        // 2-2. í•˜ëŠ˜ì—ì„œ ê³¼ì œ ë–¨ì–´ëœ¨ë¦¬ê¸°
        function createPaper() {
            if (isGameOver) return;
            const paper = document.createElement('div');
            paper.innerText = 'ğŸ“„';
            paper.classList.add('paper');
            paper.style.left = `${Math.random() * (window.innerWidth - 30)}px`;
            gameBoard.appendChild(paper);
        }

        // ê²Œì„ í•µì‹¬ ë¡œì§ (ì• ë‹ˆë©”ì´ì…˜, ì¶©ëŒ ê°ì§€, ì ìˆ˜)
        function gameLoop() {
            if (isGameOver) return;

            // ëª¨ë“  ê³¼ì œë“¤ì„ ì•„ë˜ë¡œ ì´ë™
            const papers = document.querySelectorAll('.paper');
            papers.forEach(paper => {
                const paperTop = parseFloat(paper.style.top || 0);
                paper.style.top = `${paperTop + 5}px`; // ê³¼ì œ ë‚™í•˜ ì†ë„

                // í™”ë©´ ë°–ìœ¼ë¡œ ë‚˜ê°„ ê³¼ì œ ì œê±°
                if (paperTop > window.innerHeight) {
                    paper.remove();
                    // 2-4. ê³¼ì œë¥¼ í”¼í•  ë•Œë§ˆë‹¤ ì ìˆ˜ íšë“
                    score += 10;
                    scoreBoard.innerText = `ì ìˆ˜: ${score}`;
                }
                
                // 2-3. í”Œë ˆì´ì–´ì™€ ê³¼ì œ ì¶©ëŒ ê°ì§€
                const playerRect = player.getBoundingClientRect();
                const paperRect = paper.getBoundingClientRect();

                if (
                    playerRect.left < paperRect.right &&
                    playerRect.right > paperRect.left &&
                    playerRect.top < paperRect.bottom &&
                    playerRect.bottom > paperRect.top
                ) {
                    endGame();
                }
            });

            requestAnimationFrame(gameLoop);
        }

        // 2-3. ê²Œì„ ì¢…ë£Œ ì²˜ë¦¬
        function endGame() {
            isGameOver = true;
            clearInterval(paperInterval); // ê³¼ì œ ìƒì„± ì¤‘ë‹¨
            alert('ìœ¼ì•…! ê³¼ì œ í­íƒ„!'); // ì•Œë¦¼ì°½ í‘œì‹œ
            gameOverMessage.style.display = 'block'; // ê²Œì„ì˜¤ë²„ ë©”ì‹œì§€ í‘œì‹œ
        }
        
        // ê²Œì„ ì‹œì‘
        function startGame() {
            // 0.8ì´ˆë§ˆë‹¤ ìƒˆ ê³¼ì œ ìƒì„±
            paperInterval = setInterval(createPaper, 800);
            // ê²Œì„ ë£¨í”„ ì‹œì‘
            requestAnimationFrame(gameLoop);
        }

        startGame();
    </script>
</body>
</html>
